<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
     <link rel="stylesheet" href= "/css/style.css">
     <script src="script.js"></script>
     <title>DIGITIZEDNOISE - SYSTEMS - CRYPTOVISUAL</title>
     <link rel="shortcut icon" type="image/png" href="/img/dNOISE_LOGO 300x300.png"/>
</head>
<body>
<div class ="siteWrapper">
     <div class="navModal">
          <div class="navWrapper">
               <!--<a href = "/audio.html" class="button">
                    <div class = "sitebutton">AUDIO</div>
               </a>!-->
               <a href = "/visual.html" class="button">
                    <div class = "sitebutton">VISUAL</div>
               </a>
               <a href = "/systems.html" class="button">
                    <div class = "sitebutton">SYSTEMS</div>
               </a>
               <a href = "/about.html" class="button">
                    <div class = "sitebutton">ABOUT</div>
               </a>
               <a href = "/downloads.html" class="button">
                    <div class = "sitebutton">DOWNLOADS</div>
               </a>
               <a href = "mailto:digitizednoise@digitizednoise.com" target="_blank" rel="noopener noreferrer" class="button">
                    <div class = "sitebutton">CONTACT</div>
               </a>
               <div class = "socialbox">
                    <a href = "https://www.instagram.com/digitizednoise/">
                         <div class = "socialbutton"><img src="/img/instagram.png" class="responsiveSocial"></div>
                    </a>
                    <a href = "https://twitter.com/digitizednoise" target="_blank" rel="noopener noreferrer">
                         <div class = "socialbutton"><img src="/img/twitter.png" class="responsiveSocial"></div>
                    </a>
                    <a href = "https://www.youtube.com/channel/UCZGFXPxWh8KfscW5u8yazMQ" target="_blank" rel="noopener noreferrer">
                         <div class = "socialbutton"><img src="/img/youtube.png" class="responsiveSocial"></div>
                    </a>
                    <a href = "https://www.twitch.tv/digitizednoise" target="_blank" rel="noopener noreferrer">
                         <div class = "socialbutton"><img src="/img/twitch.png" class="responsiveSocial"></div>
                    </a>
                    <a href = "https://tiktok.com/@digitizednoise">
                         <div class = "socialbutton"><img src="/img/tiktok.png" class="responsiveSocial"></div>
                    </a>
               </div>
          </div>
     </div>
     <div class="indexWrapper">
          <div class = "navigation" id="navbar">
               <div class = "homelogo">
                    <a href="/index.html"><img src ="/img/dnoizelogo.png"></a>
               </div>
               <div class ="menubar" id="navmenu">
                    <div class="bar1"></div>
                    <div class="bar2"></div>
                    <div class="bar3"></div>
               </div>
          </div>
          <div class = "footerWrapper">
               <div class = "footer">> contact@digitzednoise.com</div>
          </div>
     </div>
</div>
<div class = "fadeWrapper">
     <div class = "sWrapper">
          <div class = "sPageTitle">xArm.SYSTEM</div>
          <div class = "description">Real-Time Robotic Arm Digital Twin System </div>
          <div class = "iframe-container">
               <div><iframe src="https://player.vimeo.com/video/1053833143?h=353138da28?&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="REEL.MOV"></iframe></div>
          </div>
          <div class = "blogText">
               <div class = "span">> System Information: </div>
          </div>
          <div class="infosection">
               <div class = "subdescription">The xArm.SYSTEM is a Real-Time Robotic Arm Digital Twin System that mirrors the movement of the xArm robotic arm within a simulated 3D environment, allowing for immediate, accurate feedback of the xArm in real-time, and the ability to change operation settings on the fly.  </div>
               <div class = "iframe-container">
                    <div><iframe src="https://player.vimeo.com/video/1095999657?h=353138da28?&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" style=" border: white 1px solid;" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="REEL.MOV"></iframe></div>
               </div>
               <div class = "subdescription">To the right of the interface is the 3D environment of the Digital Twin itself, running in real-time while displaying the claw’s current position and the claw's path as it moves from position to position, updating continuously to reflect the synchronization between the physical xArm Robotic Arm itself and the Digital Twin render.</div>
               <div class = "boxB">
                    <div class = 'images'> <img src="/img/dtUI.jpg" class="responsiveSystem"></div>
               </div>
               <div class = "subdescription">To the left of the interface are all of the available controls for the system and data available for viewing, such as serial messages being sent for current status and current CPU usage of the system. User is able to control 5 servos controlling the xArm, configure speed settings of the arm, and add or remove the visual pathing of the digital twin.</div>
               <div class = "iframe-container">
                    <div><iframe src="https://player.vimeo.com/video/1072607533?h=353138da28&badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&muted=1&loop=1"
                                 allow="autoplay; fullscreen; picture-in-picture"
                                 allowfullscreen
                                 style="pointer-events: none; border: white 1px solid;"
                                 title="CryptoVisual-System-Video"></iframe>
                    </div>
               </div>
               <div class = "subdescription">xArm.System has two modes: Manual and Auto. Manual works as described earlier; using the UI sliders to manually adjust the bot itself. Auto mode automatically detects the color block of the user's choice, and using Open CV the camera detects the position of the colored object itself, then sending the correct position of the object to the the 5 servos; and activating the claw to open open and grab object.</div>
               <div class = "subdescription">The follow Python script is the main driver for Auto mode:</div>
               <div class="codeContainer">
                    <pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">import cv2 as cv</span></span>
<span class="line"><span style="color:#DBD7CAEE">import numpy as np</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE"># Constants</span></span>
<span class="line"><span style="color:#DBD7CAEE">width </span><span style="color:#666666">=</span><span style="color:#4C9A91"> 10</span><span style="color:#DBD7CAEE">  # Real width of the object in cm</span></span>
<span class="line"><span style="color:#DBD7CAEE">focal </span><span style="color:#666666">=</span><span style="color:#4C9A91"> 450</span><span style="color:#DBD7CAEE">  # Focal length of the camera</span></span>
<span class="line"><span style="color:#DBD7CAEE">kernel </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">getStructuringElement</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">cv.MORPH_ELLIPSE</span><span style="color:#666666">,</span><span style="color:#666666"> (</span><span style="color:#4C9A91">5</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 5</span><span style="color:#666666">))</span></span>
<span class="line"><span style="color:#DBD7CAEE">dist </span><span style="color:#666666">=</span><span style="color:#4C9A91"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE"># Define colors</span></span>
<span class="line"><span style="color:#DBD7CAEE">blue   </span><span style="color:#666666">=</span><span style="color:#666666"> (</span><span style="color:#4C9A91">255</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">,</span><span style="color:#4C9A91">   0</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">green  </span><span style="color:#666666">=</span><span style="color:#666666"> (</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91">   255</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">red    </span><span style="color:#666666">=</span><span style="color:#666666"> (</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91">   0</span><span style="color:#666666">,</span><span style="color:#4C9A91">   255</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">yellow </span><span style="color:#666666">=</span><span style="color:#666666"> (</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91">   255</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 255</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">purple </span><span style="color:#666666">=</span><span style="color:#666666"> (</span><span style="color:#4C9A91">255</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">,</span><span style="color:#4C9A91">   255</span><span style="color:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">color_map </span><span style="color:#666666">=</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#C98A7D77">    '</span><span style="color:#C98A7D">RED</span><span style="color:#C98A7D77">'</span><span style="color:#DBD7CAEE">: red</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#C98A7D77">    '</span><span style="color:#C98A7D">BLUE</span><span style="color:#C98A7D77">'</span><span style="color:#DBD7CAEE">: blue</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#C98A7D77">    '</span><span style="color:#C98A7D">GREEN</span><span style="color:#C98A7D77">'</span><span style="color:#DBD7CAEE">: green</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#C98A7D77">    '</span><span style="color:#C98A7D">YELLOW</span><span style="color:#C98A7D77">'</span><span style="color:#DBD7CAEE">: yellow</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#C98A7D77">    '</span><span style="color:#C98A7D">PURPLE</span><span style="color:#C98A7D77">'</span><span style="color:#DBD7CAEE">: purple</span></span>
<span class="line"><span style="color:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE"># Set the color you want to detect</span></span>
<span class="line"><span style="color:#DBD7CAEE">selected_color </span><span style="color:#666666">=</span><span style="color:#80A665"> str</span><span style="color:#666666">(</span><span style="color:#80A665">op</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">colorName</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)[</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91">0</span><span style="color:#666666">])</span><span style="color:#DBD7CAEE">.</span><span style="color:#80A665">upper</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#DBD7CAEE">x </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> color_map.</span><span style="color:#80A665">get</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">selected_color</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> red</span><span style="color:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE"># Precompute HSV ranges once at startup</span></span>
<span class="line"><span style="color:#DBD7CAEE">HSV_RANGES </span><span style="color:#666666">=</span><span style="color:#666666"> {}</span></span>
<span class="line"><span style="color:#4D9375">for</span><span style="color:#DBD7CAEE"> name</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> bgr in color_map.</span><span style="color:#80A665">items</span><span style="color:#666666">()</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#DBD7CAEE">    hsv </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">cvtColor</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">np.</span><span style="color:#80A665">uint8</span><span style="color:#666666">([[</span><span style="color:#DBD7CAEE">bgr</span><span style="color:#666666">]]),</span><span style="color:#DBD7CAEE"> cv.COLOR_BGR2HSV</span><span style="color:#666666">)[</span><span style="color:#4C9A91">0</span><span style="color:#666666">][</span><span style="color:#4C9A91">0</span><span style="color:#666666">]</span></span>
<span class="line"><span style="color:#DBD7CAEE">    h </span><span style="color:#666666">=</span><span style="color:#CB7676"> int</span><span style="color:#666666">(</span><span style="color:#BD976A">hsv</span><span style="color:#666666">[</span><span style="color:#4C9A91">0</span><span style="color:#666666">])</span></span>
<span class="line"><span style="color:#4D9375">    if</span><span style="color:#DBD7CAEE"> name </span><span style="color:#CB7676">==</span><span style="color:#C98A7D77"> '</span><span style="color:#C98A7D">RED</span><span style="color:#C98A7D77">'</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#DBD7CAEE">        lowerLimit </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> np.</span><span style="color:#80A665">array</span><span style="color:#666666">([</span><span style="color:#4C9A91">150</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 140</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 140</span><span style="color:#666666">],</span><span style="color:#DBD7CAEE"> dtype</span><span style="color:#666666">=</span><span style="color:#DBD7CAEE">np.uint8</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">        upperLimit </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> np.</span><span style="color:#80A665">array</span><span style="color:#666666">([</span><span style="color:#4C9A91">179</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 210</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 210</span><span style="color:#666666">],</span><span style="color:#DBD7CAEE"> dtype</span><span style="color:#666666">=</span><span style="color:#DBD7CAEE">np.uint8</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">    else</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#DBD7CAEE">        lowerLimit </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> np.</span><span style="color:#80A665">array</span><span style="color:#666666">([</span><span style="color:#80A665">max</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">h </span><span style="color:#CB7676">-</span><span style="color:#4C9A91"> 30</span><span style="color:#666666">,</span><span style="color:#4C9A91">0</span><span style="color:#666666">),</span><span style="color:#4C9A91"> 50</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 50</span><span style="color:#666666">],</span><span style="color:#DBD7CAEE"> dtype</span><span style="color:#666666">=</span><span style="color:#DBD7CAEE">np.uint8</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">        upperLimit </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> np.</span><span style="color:#80A665">array</span><span style="color:#666666">([</span><span style="color:#80A665">min</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">h </span><span style="color:#CB7676">+</span><span style="color:#4C9A91"> 30</span><span style="color:#666666">,</span><span style="color:#4C9A91">179</span><span style="color:#666666">),</span><span style="color:#4C9A91"> 255</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 255</span><span style="color:#666666">],</span><span style="color:#DBD7CAEE"> dtype</span><span style="color:#666666">=</span><span style="color:#DBD7CAEE">np.uint8</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#BD976A">    HSV_RANGES</span><span style="color:#666666">[</span><span style="color:#DBD7CAEE">name</span><span style="color:#666666">]</span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#DBD7CAEE">lowerLimit</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> upperLimit</span><span style="color:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">def </span><span style="color:#80A665">get_dist</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">rect</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> image</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#DBD7CAEE">    pixels </span><span style="color:#666666">=</span><span style="color:#BD976A"> rect</span><span style="color:#666666">[</span><span style="color:#4C9A91">1</span><span style="color:#666666">][</span><span style="color:#4C9A91">0</span><span style="color:#666666">]</span></span>
<span class="line"><span style="color:#DBD7CAEE">    dist </span><span style="color:#666666">=</span><span style="color:#666666"> (</span><span style="color:#DBD7CAEE">width </span><span style="color:#CB7676">*</span><span style="color:#DBD7CAEE"> focal</span><span style="color:#666666">)</span><span style="color:#CB7676"> /</span><span style="color:#DBD7CAEE"> pixels  </span></span>
<span class="line"><span style="color:#DBD7CAEE">    table </span><span style="color:#666666">=</span><span style="color:#80A665"> op</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">cv_table</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#BD976A">    table</span><span style="color:#666666">[</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">]</span><span style="color:#666666"> =</span><span style="color:#80A665"> str</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">dist</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">    return</span><span style="color:#DBD7CAEE"> image</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">#Detect Colors</span></span>
<span class="line"><span style="color:#DBD7CAEE">def </span><span style="color:#80A665">get_limits</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">color</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#4D9375">    return</span><span style="color:#DBD7CAEE"> HSV_RANGES.</span><span style="color:#80A665">get</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">selected_color</span><span style="color:#666666">,</span><span style="color:#666666"> (</span><span style="color:#DBD7CAEE">np.</span><span style="color:#80A665">array</span><span style="color:#666666">([</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91">0</span><span style="color:#666666">]),</span><span style="color:#DBD7CAEE"> np.</span><span style="color:#80A665">array</span><span style="color:#666666">([</span><span style="color:#4C9A91">179</span><span style="color:#666666">,</span><span style="color:#4C9A91">255</span><span style="color:#666666">,</span><span style="color:#4C9A91">255</span><span style="color:#666666">])))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">#Used to update servo positions in Touchdesigner</span></span>
<span class="line"><span style="color:#DBD7CAEE">def </span><span style="color:#80A665">update_constant_chops</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">dist</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#DBD7CAEE">    constant_chop </span><span style="color:#666666">=</span><span style="color:#80A665"> op</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">fillValues</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">    constant_chop.par.value0 </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> dist</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">def </span><span style="color:#80A665">onCook</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">scriptOp</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#80A665">    debug</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">onCook called</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">    top </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> scriptOp.</span><span style="color:#BD976A">inputs</span><span style="color:#666666">[</span><span style="color:#4C9A91">0</span><span style="color:#666666">]</span><span style="color:#DBD7CAEE">  # This means the script is reading frame from the input of this operator</span><span style="color:#666666">;</span><span style="color:#DBD7CAEE"> in most cases our webcams.</span></span>
<span class="line"><span style="color:#4D9375">    if</span><span style="color:#DBD7CAEE"> top is None:</span></span>
<span class="line"><span style="color:#80A665">        debug</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">Error: Could not find input</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">        return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">    img </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> top.</span><span style="color:#80A665">numpyArray</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">delayed</span><span style="color:#666666">=</span><span style="color:#DBD7CAEE">True</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">    if</span><span style="color:#DBD7CAEE"> img is None:</span></span>
<span class="line"><span style="color:#80A665">        debug</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">Error: No frame data available</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">        return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#80A665">    debug</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">Img received</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">    hsvImg </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">cvtColor</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">img</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> cv.COLOR_BGR2HSV</span><span s tyle="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">    lowerLimit</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> upperLimit </span><span style="color:#666666">=</span><span style="color:#80A665"> get_limits</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">x</span><span style="color:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#80A665">    debug</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">f</span><span style="color:#C98A7D77">"</span><span style="color:#C98A7D">Thresholds → low: {lowerLimit}, high: {upperLimit}</span><span style="color:#C98A7D77">"</span><span style="color:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">    mask </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">inRange</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">hsvImg</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> lowerLimit</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> upperLimit</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">    img2 </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">morphologyEx</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">mask</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> cv.MORPH_OPEN</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> kernel</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> iterations</span><span style="color:#666666">=</span><span style="color:#4C9A91">2</span><span style="color:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">    contours</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> _ </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">findContours</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">img2</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> cv.RETR_EXTERNAL</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> cv.CHAIN_APPROX_SIMPLE</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">    if</span><span style="color:#DBD7CAEE"> contours:</span></span>
<span class="line"><span style="color:#DBD7CAEE">        cnt </span><span style="color:#666666">=</span><span style="color:#80A665"> max</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">contours</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> key</span><span style="color:#666666">=</span><span style="color:#DBD7CAEE">cv.contourArea</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">        area </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">contourArea</span><span style="color:#666666">(</span><span style=                                                                                                                                                                                                                                                   ="color:#DBD7CAEE">cnt</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#4C9A91"> 100</span><span style="color:#CB7676"> &#x3C;</span><span style="color:#DBD7CAEE"> area </span><span style="color:#CB7676">&#x3C;</span><span style="color:#4C9A91"> 306000</span><span style="color:#DBD7CAEE">:</span></span>
<span class="line"><span style="color:#DBD7CAEE">            rect </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> cv.</span><span style="color:#80A665">minAreaRect</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">cnt</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">            box </span><span style="color:#666666">=</span><span style="color:#DBD7CAEE"> np.</span><span style="color:#80A665">intp</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">cv.</span><span style="color:#80A665">boxPoints</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">rect</span><span style="color:#666666">))</span></span>
<span class="line"><span style="color:#DBD7CAEE">            cv.</span><span style="color:#80A665">drawContours</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">img</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#DBD7CAEE">box</span><span style="color:#666666">],</span><span style="color:#CB7676"> -</span><span style="color:#4C9A91">1</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> x</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 3</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#DBD7CAEE">            img </span><span style="color:#666666">=</span><span style="color:#80A665"> get_dist</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">rect</span><span style="color:#666666">,</span><span style="color:#DBD7CAEE"> img</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#80A665">            update_constant_chops</span><span style="color:#666666">((</span><span style="color:#DBD7CAEE">width </span><span style="color:#CB7676">*</span><span style="color:#DBD7CAEE"> focal</span><span style="color:#666666">)</span><span style="color:#CB7676"> /</span><span style="color:#BD976A"> rect</span><span style="color:#666666">[</span><span style="color:#4C9A91">1</span><span style="color:#666666">][</span><span style="color:#4C9A91">0</span><span style="color:#666666">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE">    scriptOp.</span><span style="color:#80A665">copyNumpyArray</span><span style="color:#666666">(</span><span style="color:#DBD7CAEE">img</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#80A665">    debug</span><span style="color:#666666">(</span><span style="color:#C98A7D77">'</span><span style="color:#C98A7D">Frame processed and copied to scriptOp</span><span style="color:#C98A7D77">'</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#4D9375">    return</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
               </div>
               <div class = "iframe-container">
                    <div><iframe src="https://player.vimeo.com/video/1096319813?h=353138da28&badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&muted=1&loop=1"
                                 allow="autoplay; fullscreen; picture-in-picture"
                                 allowfullscreen
                                 style="pointer-events: none; border: white 1px solid;"
                                 title="CryptoVisual-System-Video"></iframe>
                    </div>
               </div>
               <div class = "subdescription">This system is driven by Touchdesigner, which in turn is sending serial messages to a modified Arduino Uno to then control xArm's servos and claw.</div>
               <div class = "boxA">
                    <div class = 'images'> <img src="/img/xarm-png.png" class="responsiveSystem"></div>
               </div>
               <div class = "techdescription">Technologies: TouchDesigner | Hiwonder xArm | Arduino   </div>
          </div>
     </div>
</div>
<script src="/script.js"></script>
</body>
</html>